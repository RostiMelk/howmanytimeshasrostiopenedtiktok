{"version":3,"sources":["tiktok.svg","components/header.component.js","components/metric.component.js","components/counter.component.js","components/total-counter.component.js","components/footer.component.js","App.js","index.js"],"names":["Header","className","src","logo","alt","Component","Metric","color","icon","percentage","this","props","total","yTotal","rountPercent","parseFloat","toFixed","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","viewBox","fill","xmlns","nearest","require","TimeLapsed","Counter","state","date","Date","axios","get","process","then","response","dates","data","map","o","i","propDate","index","setState","undefined","catch","error","console","log","title","fromTimestamp","includes","TotalCounter","reduce","a","b","Footer","href","target","rel","aria-label","App","setHours","now","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a93af950.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/tiktok.c6f4bc3b.svg\";","import React, { Component } from 'react';\nimport logo from \"../tiktok.svg\";\n\nexport default class Header extends Component {\n    render() {\n        return (\n            <header className=\"block mt-8\">\n                <h1 className=\"text-2xl m-4 text-center font-medium\">\n                How many times has Rosti opened\n                <img src={logo} className=\"inline w-10\" alt=\"tiktok logo\" />\n                ?\n                </h1>\n            </header>\n        )\n    }\n}","import React, { Component } from 'react';\n\nexport default class Metric extends Component {\n    render() {\n        const percentage = (this.props.total - this.props.yTotal) / this.props.yTotal * 100;\n        const rountPercent = parseFloat(percentage.toFixed(1));\n\n        let color,\n            icon;\n\n        if ( percentage > 0) {\n            color = 'green';\n            icon = <path d=\"M18 15L12 9L6 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></path>;\n        } else if ( percentage < 0) {\n            color = 'red';\n            icon = <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></path>;\n        } else {\n            color = 'yellow';\n            icon = <path d=\"M18 15L12 9L6 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></path>;\n        }\n\n        return (\n            <span className={`flex items-center px-2 py-0.5 mx-2 text-sm text-${color}-600 bg-${color}-100 rounded-full`}>\n                <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    {icon}\n                </svg>\n                <span>{rountPercent} %</span>\n            </span>\n\n\n        )\n    }\n}","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Metric from './metric.component';\nconst nearest = require('nearest-date');\nconst TimeLapsed = require('timelapsed');\n\nexport default class Counter extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            total: 0,\n            yTotal: 0,\n            date: new Date(),\n        }\n    }\n\n    componentDidMount() {\n        axios.get(`${process.env.REACT_APP_BACKEND}/count/`)\n            .then(response => {\n                let dates = response.data.map(function(o,i) {\n                    return o.date;\n                }).map(date => new Date(date)); \n                let propDate = new Date(this.props.date);\n                let index = nearest(dates, propDate);\n\n                this.setState({\n                    total: response.data[index].total,\n                    yTotal: response.data[index - 1] !== undefined ? response.data[index - 1].total : response.data[index].total,\n                    date: response.data[index].date,\n                })\n            })\n            .catch((error) => console.log(error))\n    }\n\n    render() {\n        let title;\n\n        if ( ! this.props.date ) {\n            title = 'Total'\n        } else if ( TimeLapsed.fromTimestamp(this.props.date).includes('hours') ) {\n            title = 'Today'\n        } else {\n            title = TimeLapsed.fromTimestamp(this.props.date)\n        }\n\n        return (\n            <div className=\"my-4 min-w-full w-80 max-w-full\">\n                <div className=\"p-5 bg-white rounded shadow-sm\">\n                    <div className=\"text-base text-gray-400 \">\n                        {title}\n                    </div>\n                    <div className=\"flex items-center pt-1\">\n                        <div className=\"text-2xl font-bold text-gray-900 \">{this.state.total} times</div>\n                        {this.props.date ? <Metric total={this.state.total} yTotal={this.state.yTotal} /> : ''}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import Counter from './counter.component'\nimport axios from 'axios';\n\nexport default class TotalCounter extends Counter {\n    componentDidMount() {\n        axios.get(`${process.env.REACT_APP_BACKEND}/count/`)\n            .then(response => {\n                let allTotals = response.data.map(function(o,i) {\n                    return o.total;\n                });\n\n                let total = allTotals.reduce((a, b) => a + b, 0);\n\n                this.setState({\n                    total: total,\n                })\n            })\n            .catch((error) => console.log(error))\n    }\n}","import React, { Component } from 'react';\n\nexport default class Footer extends Component {\n    render() {\n        return (\n            <footer className=\"flex flex-row justify-center mb-8 -mx-3\">\n                <p className=\"mt-8\">\n                    <a href=\"https://rosti.no\" target=\"_blank\" rel=\"noreferrer\">\n                        Built with \n                        <span className=\"m-1\" aria-label=\"beer\">üç∫ </span> \n                        by Rostislav Melkumyan\n                    </a>\n                </p>\n            </footer>\n        )\n    }\n}","import Header from \"./components/header.component\";\nimport Counter from \"./components/counter.component\";\nimport TotalCounter from \"./components/total-counter.component\";\nimport Footer from \"./components/footer.component\";\n\nfunction App() {\n  return (\n    <div className=\"App bg-gray-50\">\n      <div className=\"container mx-auto overflow-hidden\">\n\n        <Header />\n\n        <main className=\"flex flex-row justify-center\">\n          <div>\n            <TotalCounter />\n            <Counter date={new Date().setHours(0,0,0,0)} />\n            <Counter date={new Date(Date.now() - 864e5 + 1)} />\n            <Counter date={new Date(Date.now() - 864e5 * 2)} />\n            <Counter date={new Date(Date.now() - 864e5 * 3)} />\n            <Counter date={new Date(Date.now() - 864e5 * 4)} />\n            <Counter date={new Date(Date.now() - 864e5 * 5)} />\n            <Counter date={new Date(Date.now() - 864e5 * 6)} />\n            <Counter date={new Date(Date.now() - 864e5 * 7)} />\n          </div>\n        </main>\n\n        <Footer />\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}